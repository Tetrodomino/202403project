<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<header th:fragment="head">
		<title>Advanced BBS Project</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://kit.fontawesome.com/fdb840a8cc.js" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
        <style>
			* { font-family: 'Noto Sans KR', sans-serif; }
			a { text-decoration: none; }
			.disabled-link { pointer-events: none; }
		</style>
		<script></script>
	</header>
</head>
<body>
    <charts th:fragment="charts(dd, area)">
        <canvas id="'dealChart'" width="80%" height="50%"> <!-- 차트 생성부-->
        </canvas>
        <script th:inline="javascript">
            var ctx = document.getElementById('dealChart').getContext('2d'); // <canvas> id = "dealChart" 에 2d 타입의 차트 생성
            
            var yeardayList = [];
            var dataList = [];

            var dList = [[${dd}]];

            dList.forEach(function(deal) {
                yeardayList.push(deal.checkYear + deal.checkday);
                dataList.push(deal.money);
            });
            
            var dealChart = new Chart(ctx, {
                type: 'line', // 차트 표시타입
                data: { // 데이터가 들어갈 항목
                    labels: yeardayList, // x축 값
                    datasets: [{
                        label: 'name',
                        data: dataList,
                        backgroundColor: ['rgba(255, 99, 132, 0.2)'],
                        borderColor: ['rgba(255, 99, 132, 1)']
                    }] // y축 값
                },
                options: { // 차트 부가 옵션
                    responsive: true, // 차트가 반응형으로 동작하도록 설정
                    scales: {
                        y: {
                            beginAtZero: true // 차트의 y축이 0부터 시작
                        }
                    }
                }
            });
        </script>
    </charts>

</body>
</html>